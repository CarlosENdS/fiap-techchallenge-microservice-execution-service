# Test Configuration
spring.application.name=execution-service-test

# H2 Database for Testing
spring.datasource.url=jdbc:h2:mem:testdb;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=FALSE
spring.datasource.driver-class-name=org.h2.Driver
spring.datasource.username=sa
spring.datasource.password=

# JPA Configuration for Testing
spring.jpa.hibernate.ddl-auto=create-drop
spring.jpa.show-sql=true
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.H2Dialect

# Disable AWS Auto-Configuration for Testing
spring.autoconfigure.exclude=io.awspring.cloud.autoconfigure.sqs.SqsAutoConfiguration,\
  io.awspring.cloud.autoconfigure.core.AwsAutoConfiguration,\
  io.awspring.cloud.autoconfigure.core.CredentialsProviderAutoConfiguration,\
  io.awspring.cloud.autoconfigure.core.RegionProviderAutoConfiguration

# AWS mock configuration (for completeness)
spring.cloud.aws.region.static=us-east-1
spring.cloud.aws.credentials.access-key=test
spring.cloud.aws.credentials.secret-key=test

# SQS Configuration (mock URLs)
messaging.sqs.queue.execution-events-url=http://localhost:4566/000000000000/execution-service-events.fifo
messaging.sqs.queue.execution-completed-url=http://localhost:4566/000000000000/execution-completed-queue
messaging.sqs.queue.resource-unavailable-url=http://localhost:4566/000000000000/resource-unavailable-queue
messaging.sqs.queue.billing-events=billing-events.fifo
messaging.sqs.queue.os-events=os-order-events-queue.fifo

# Actuator
management.endpoints.web.exposure.include=health

# Logging
logging.level.root=WARN
logging.level.com.techchallenge.fiap.cargarage.execution_service=DEBUG
